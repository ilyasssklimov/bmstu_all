# Unit-тестирование

Признаки хорошего Unit-теста:

1. Устойчивость (в том числе к рефакторингу)

2. Читаемость

3. Понятность

4. Легко изменяем

    

## Зависимости

Невозможно изолировано протестировать модуль, будут "тянуться" зависимости. В таком случае для изоляции пишут заглушки (moc).

 

## Фабрика

Часто используют фабрики для создания объектов (каждый раз при изменении параметров вызывается метод фабрики). Более сложная фабрики – Object Mother.

> Менять сигнатуру публичных методов не надо



## Три основные проблемы написания тестов

1. False negative (если все время зеленый) – например, сравниваем числа с плавающей точкой через "равно".
2. False positive (если все время красный) – например, сравниваем, не объекты, а ссылки на них.
3. Flaky tests (моргают, нестабильные) – чаще всего связаны с интеграционными тестами.



## Лучшее поведение в случае ошибки

Либо падаем, либо записываем в лог. Исходим из здравого смысла (если критично, то первый вариант)

---

[Лекция 1](https://github.com/ilyasssklimov/bmstu_all/tree/sem_07/sem_07/Testing/lections/lection_01.md) [Лекция 3](https://github.com/ilyasssklimov/bmstu_all/tree/sem_07/sem_07/Testing/lections/lection_03.md)